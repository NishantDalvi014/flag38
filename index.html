<!DOCTYPE html>
<html>
  <head>
    <title>CTF Custom Tab</title>
  </head>
  <body>
    <h1>CTF-Debug-Page</h1>
    <p id="status">Waiting for message...</p>

<script>
  // Wait for "init" message from the app
  window.addEventListener("message", function(event) {
    console.log("Got message from app:", event.data);

    // Always send JSON back
    if (event.data === "init") {
      window.postMessage(JSON.stringify({ message: "init_complete" }), "*");

      // Now, you can also send "success"
      setTimeout(() => {
        window.postMessage(JSON.stringify({ message: "success" }), "*");
      }, 1000);
    }
  });
</script>

  </body>
</html>

